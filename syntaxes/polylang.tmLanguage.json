{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "Polylang",
	"patterns": [
		{"include": "#control"},
		{"include": "#declaration"},
		{"include": "#operator"}
	],
	"repository": {
		"control": {
			"patterns": [
				{"include": "#control-flow"}
			]
		},
		"control-flow": {
			"match": "\\b(if|else|let|for|while|break|continue|throw|return)\\b",
			"name": "keyword.control.flow.polylang"
		},
		"declaration": {
			"patterns": [
				{"include": "#declaration-collection"},
				{"include": "#declaration-storage"},
				{"include": "#declaration-function"},
				{"include": "#declaration-error"},
				{"include": "#declaration-call"}
			]
		},
		"declaration-collection": {
			"match": "\\b(collection)(?:\\s+([A-Za-z]\\w+))\\b",
			"captures": {
				"1": {"name": "keyword.other.collection.polylang"},
				"2": {"name": "entity.name.type.collection.polylang"}
			}
		},
		"declaration-storage": {
			"patterns": [
				{"include": "#primitive"},
				{"include": "#type-primitive"}
			]
		},
		"declaration-function": {
			"match": "\\b(function)\\s+(\\w+)\\b",
			"captures": {
				"1": {"name": "storage.type.function.polylang"},
				"2": {"name": "entity.name.function.polylang"}
			}
		},
		"declaration-error": {
			"match": "\\b(error)(\\s+([A-Za-z_]\\w*))?\\b",
			"name": "storage.type.error.polylang"
		},
		"declaration-call": {
			"match": "\\b([A-Za-z_]\\w*)\\s*(\\()",
			"name": "entity.name.function.call.polylang"
		},
		"operator": {
			"patterns": [
				{"include": "#operator-binary"},
				{"include": "#operator-logic"},
				{"include": "#operator-assignment"},
				{"include": "#operator-arithmetic"}
			]
		},
        "operator-logic": {
            "match": "(\\!=|\\!|<|>|<=|>=|==|\\&\\&|\\|\\|)",
            "name": "keyword.operator.logic.polylang"
        },
		"operator-arithmetic": {
            "match": "(\\*|\\/|\\%|\\+|\\-)",
            "name": "keyword.operator.arithmetic.polylang"
		},
        "operator-assignment": {
            "match": "(\\=|\\-\\=|\\+\\=)",
            "name": "keyword.operator.assignment.polylang"
        },
        "operator-binary": {
            "match": "(~|\\*\\*|\\<\\<|\\>\\>|\\&|\\^|\\|)",
            "name": "keyword.operator.binary.polylang"
        },
		"primitive": {
			"patterns": [
				{"include": "#number"},
				{"include": "#string"}
			]
		},
		"number": {
			"match": "\\b([0-9_]+(\\.[0-9_]+)?)\\b",
			"name": "constant.numeric.polylang"
		},
		"string": {
			"patterns": [
				{
					"match": "\\\".*?\\\"",
					"name": "string.quoted.double.polylang"
				},
				{
					"match": "\\'.*?\\'",
					"name": "string.quoted.single.polylang"
				}
			]
		},
		"type-primitive": {
			"match": "\\b(string|number|record)\\b",
			"name": "support.type.primitive.polylang"
		}
	},
	"scopeName": "source.polylang"
}
